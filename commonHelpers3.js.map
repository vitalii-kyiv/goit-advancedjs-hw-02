{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst { delay, step, amount, submitButton } = form.elements;\n\nform.addEventListener('submit', onSubmitBtnClick);\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        res({ position, delay });\n      } else {\n        rej({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction onSubmitBtnClick(evt) {\n  evt.preventDefault();\n  const firstDelay = Number(delay.value);\n  const delayStep = Number(step.value);\n  const amountPromise = Number(amount.value);\n  for (let i = 1; i <= amountPromise; i++) {\n    const currentDelay = firstDelay + (i - 1) * delayStep;\n\n    createPromise(i, currentDelay)\n      .then(({ position, delay }) => {\n        iziToast.success({\n          closeOnEscape: true,\n          closeOnClick: true,\n          backgroundColor: 'green',\n          messageColor: 'white',\n          position: 'topRight',\n          messageSize: '24',\n          message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n        });\n      })\n      .catch(({ position, delay }) => {\n        iziToast.error({\n          closeOnEscape: true,\n          closeOnClick: true,\n          backgroundColor: 'tomato',\n          messageColor: 'white',\n          position: 'topRight',\n          messageSize: '24',\n          message: `❌ Rejected promise ${position} in ${delay}ms`,\n        });\n      });\n  }\n  form.reset();\n}\n"],"names":["form","delay","step","amount","submitButton","onSubmitBtnClick","createPromise","position","res","rej","shouldResolve","evt","firstDelay","delayStep","amountPromise","i","currentDelay","iziToast"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrC,CAAE,MAAAC,EAAO,KAAAC,EAAM,OAAAC,EAAQ,aAAAC,CAAc,EAAGJ,EAAK,SAEnDA,EAAK,iBAAiB,SAAUK,CAAgB,EAEhD,SAASC,EAAcC,EAAUN,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACO,EAAKC,IAAQ,CAC/B,MAAMC,EAAgB,KAAK,OAAM,EAAK,GACtC,WAAW,IAAM,CACXA,EACFF,EAAI,CAAE,SAAAD,EAAU,MAAAN,CAAK,CAAE,EAEvBQ,EAAI,CAAE,SAAAF,EAAU,MAAAN,CAAK,CAAE,CAE1B,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,SAASI,EAAiBM,EAAK,CAC7BA,EAAI,eAAc,EAClB,MAAMC,EAAa,OAAOX,EAAM,KAAK,EAC/BY,EAAY,OAAOX,EAAK,KAAK,EAC7BY,EAAgB,OAAOX,EAAO,KAAK,EACzC,QAASY,EAAI,EAAGA,GAAKD,EAAeC,IAAK,CACvC,MAAMC,EAAeJ,GAAcG,EAAI,GAAKF,EAE5CP,EAAcS,EAAGC,CAAY,EAC1B,KAAK,CAAC,CAAE,SAAAT,EAAU,MAAAN,KAAY,CAC7BgB,EAAS,QAAQ,CACf,cAAe,GACf,aAAc,GACd,gBAAiB,QACjB,aAAc,QACd,SAAU,WACV,YAAa,KACb,QAAS,uBAAuBV,QAAeN,KACzD,CAAS,CACT,CAAO,EACA,MAAM,CAAC,CAAE,SAAAM,EAAU,MAAAN,KAAY,CAC9BgB,EAAS,MAAM,CACb,cAAe,GACf,aAAc,GACd,gBAAiB,SACjB,aAAc,QACd,SAAU,WACV,YAAa,KACb,QAAS,sBAAsBV,QAAeN,KACxD,CAAS,CACT,CAAO,CACJ,CACDD,EAAK,MAAK,CACZ"}